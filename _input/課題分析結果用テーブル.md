# 課題分析結果用テーブルを追加したい

## 課題分析結果テーブル

課題分析１回あたり１レコード生成される。

| アトリビュート | データ型 | 説明 | 制約 |
|----------------|----------|------|------|
| analysis_result_ID | INTEGER | 課題分析結果のID | PK, AUTOINCREMENT |
| analysis_result_dir | TEXT | 課題分析結果格納ディレクトリのパス（相対） | - |
| analysis_timestamp | TEXT | 課題分析実行日時（YYYY-MM-DD HH:MM:SS） | - |
| evaluation_result_ID | INTEGER | 紐づく評価結果のID | FK (evaluation_result_table.evaluation_result_ID) ON DELETE RESTRICT |

## 課題テーブル

課題分析を実施した際に抽出された課題を管理する。
課題分析１回あたり課題の数分のレコードが生成される。

| アトリビュート | データ型 | 説明 | 制約 |
|----------------|----------|------|------|
| problem_ID | INTEGER | 課題のID | PK, AUTOINCREMENT |
| problem_name | TEXT | 課題の名前 | - |
| problem_description | TEXT | 課題の説明 | - |
| problem_status | TEXT | 課題のステータス | - |
| analysis_result_ID | INTEGER | 紐づく課題分析結果のID | FK (analysis_result_table.analysis_result_ID) ON DELETE RESTRICT |

## 課題分析データテーブル

各評価データに対して課題分析を実施した結果を管理する。
課題がない場合はanalysis_data_isproblemはfalseになり、problem_IDはnullになる。
課題がある場合はanalysis_data_isproblemはtrueになり、problem_IDが紐づく。
課題分析１回あたり評価データ数分のレコードが生成される。

| アトリビュート | データ型 | 説明 | 制約 |
|----------------|----------|------|------|
| analysis_data_ID | INTEGER | 課題分析データのID | PK, AUTOINCREMENT |
| evaluation_data_ID | INTEGER | 紐づく評価データのID | FK (evaluation_data_table.evaluation_data_ID) ON DELETE RESTRICT |
| analysis_result_ID | INTEGER | 紐づく課題分析結果のID | FK (analysis_result_table.analysis_result_ID) ON DELETE RESTRICT |
| problem_ID | INTEGER | 紐づく課題のID | FK (problem_table.problem_ID) ON DELETE RESTRICT |
| analysis_data_isproblem | BOOLEAN | 課題の有無| - |
| analysis_data_dir | TEXT | 課題分析データ格納ディレクトリのパス（相対） | - |
| analysis_data_description | TEXT | 課題分析データの簡単な説明 | - |
